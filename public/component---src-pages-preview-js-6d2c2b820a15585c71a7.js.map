{"version":3,"sources":["webpack://gatsby-multi-language-website/./prismic-configuration.js","webpack://gatsby-multi-language-website/./src/pages/preview.js","webpack://gatsby-multi-language-website/./src/utils/linkResolver.js"],"names":["module","exports","prismicRepo","releaseID","accessToken","defaultLanguage","langs","PreviewPage","isPreview","Preview","props","repositoryName","useStaticQuery","sitePlugin","pluginOptions","withPreviewResolver","linkResolver","doc","require","properties","_meta","type","lang","uid"],"mappings":"mIACAA,EAAOC,QAAU,CAGfC,YAAa,mCAGbC,UAAW,GAGXC,YAAa,GAGbC,gBAAiB,QACjBC,MAAO,CAAC,QAAS,QAAQ,Q,yICRrBC,EAAc,SAAC,GACnB,OAAkB,IADmB,EAAhBC,UACW,iBAExB,qCAGK,SAASC,EAAQC,GAC9B,IAOQC,GAPKC,oBAAe,cAOIC,WAAWC,cAAnCH,eACR,OAAOI,QAAoBR,EAAa,CACtCI,iBACAK,aAAc,kBAAM,SAACC,GAAD,OAASD,IAAaC,MAFrCF,CAGJL,K,sBCxBL,IAAQL,EAAoBa,EAAQ,OAA5Bb,gBAsBRL,EAAOC,QAhBc,SAACgB,GACpB,IAAME,EAAaF,EAAIG,OAASH,EAEhC,MAAwB,aAApBE,EAAWE,KACNF,EAAWG,OAASjB,EAAkB,IAAtC,IAAgDc,EAAWG,KAG5C,SAApBH,EAAWE,KACNF,EAAWG,OAASjB,EAApB,SACMc,EAAWI,IADjB,SAEMJ,EAAWG,KAFjB,IAEyBH,EAAWI,IAGtC","file":"component---src-pages-preview-js-6d2c2b820a15585c71a7.js","sourcesContent":["\nmodule.exports = {\n\n  // The repo name for your Prismic repository (found in the url of your repo: https://multilang-prismic-gatsby-example.prismic.io/)\n  prismicRepo: 'multilang-prismic-gatsby-example',\n\n  // Release ID to build (requires access)\n  releaseID: '',\n\n  // access token to access the release\n  accessToken: '',\n\n  // Language configuration in your Prismic repository: Settings / Translations & locals\n  defaultLanguage: 'en-us',\n  langs: ['en-us', 'fr-fr','ru'],\n}\n","import * as React from 'react'\nimport { withPreviewResolver } from 'gatsby-source-prismic'\nimport { graphql, useStaticQuery } from 'gatsby'\n\nimport linkResolver from '../utils/linkResolver'\n\nconst PreviewPage = ({ isPreview }) => {\n  if (isPreview === false) return 'Not a preview!'\n\n  return (<p>Loading</p>)\n}\n\nexport default function Preview(props) {\n  const data = useStaticQuery(graphql`query {\n    sitePlugin(name: {eq: \"gatsby-source-prismic\"}) {\n      pluginOptions {\n        repositoryName\n      }\n    }\n  }`)\n  const { repositoryName } = data.sitePlugin.pluginOptions\n  return withPreviewResolver(PreviewPage, {\n    repositoryName,\n    linkResolver: () => (doc) => linkResolver(doc),\n  })(props)\n}\n","const { defaultLanguage } = require('../../prismic-configuration')\n\n/* The Link Resolver\n* This function will be used to generate links to Prismic documents\nAs your project grows, you should update this function according to your routes */\n\nconst linkResolver = (doc) => {\n  const properties = doc._meta || doc;\n\n  if (properties.type === 'homepage') {\n    return properties.lang === defaultLanguage ? '/' : `/${properties.lang}`\n  }\n\n  if (properties.type === 'page') {\n    return properties.lang === defaultLanguage\n      ? `/page/${properties.uid}`\n      : `/page/${properties.lang}/${properties.uid}`\n  }\n\n  return '/'\n};\n\nmodule.exports = linkResolver\n"],"sourceRoot":""}